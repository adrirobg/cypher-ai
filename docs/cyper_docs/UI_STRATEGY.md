## UI Strategy: The Cypher Console

This document outlines the strategy, conceptual design, technology stack, and implementation plan for a User Interface (UI) for Cypher, which we can call the "Cypher Console".

### 1. Why a UI for Cypher? (The "Why")

While Cypher is primarily designed for AI-to-AI orchestration, a UI offers significant value for human developers:

*   **Project State Visualization:** A dashboard (Kanban, Gantt) of `tasks.json` would be more intuitive than editing JSON or using CLI commands for `decode`.
*   **AI-First Artifact Inspection:** Visualizing the `context` generated by `cypher transmit` in a readable format, with syntax highlighting and structure, would allow developers to validate the quality of the context sent to AI agents.
*   **Workflow Monitoring:** A UI could display the progress of complex workflows (e.g., `cypher setup-project`), indicating which steps the AI has completed and which are pending.
*   **Debugging and Auditing:** It would facilitate reviewing the inputs and outputs of AI interactions, helping to debug issues or understand why an AI agent made certain decisions.
*   **Simplified Interaction:** For less technical users, a UI could offer a more accessible way to interact with Cypher without memorizing CLI commands.

### 2. UI Concepts for Cypher

The UI would complement the CLI, not replace it. It could focus on:

*   **Dashboard de Tareas (Task Overview):**
    *   List/Kanban view of tasks and subtasks.
    *   Filters by status, priority, dependencies.
    *   Visualization of task hierarchy.
*   **Vista Detallada de Tarea (Task Detail View):**
    *   Display all `Task` interface fields: `id`, `title`, `description`, `details`, `testStrategy`, `status`, `priority`, `dependencies`, `keyTechnologies`.
    *   **AI-First Context Panel:** A dedicated area to render the `context` field (pre-flight artifact generated by `cypher transmit`) using Markdown rendering.
    *   **Dependency Visualizer:** A small graph showing the dependencies of the current task and its relationship with parent/sibling tasks.
    *   **Action Buttons:** `Transmit` (to generate context), `Update Status` (to change task status).
*   **Workflow Visualization (Optional/Advanced):**
    *   Graphical representation of dependencies between tasks.
    *   Visual indicators of the progress of AI-orchestrated workflows.

### 3. Technology Stack

*   **Frontend Framework:** React (with TypeScript)
*   **UI Component Library:** **Material-UI (MUI)** (`@mui/material`). Chosen for its comprehensive component set, robust theming, and widespread adoption.
*   **Markdown Renderer:** **`react-markdown`** (`react-markdown`). Standard solution for rendering Markdown in React, with flexibility for plugins (e.g., `remark-gfm`).
*   **Graph Visualization:** **React Flow (`@xyflow/react`)**. Flexible and capable for visualizing custom nodes and edges, ideal for task dependencies and workflows.

### 4. Integration Strategy: CLI as Local Backend

The UI will integrate directly with the Cypher CLI, acting as a presentation layer.

*   **Communication:** The UI will invoke `cypher` commands as **child processes** (`child_process` in Node.js).
    *   **Read Operations:** `cypher decode <id>` or `cypher decode` will be executed, and the UI will capture the output (expected to be JSON or AI-optimized Markdown).
    *   **Write Operations:** `cypher update <id> <status>` or `cypher transmit <id>` will be executed, and the UI will display the result or progress.
*   **Advantages:**
    *   **Simplicity:** No need for an additional HTTP server or REST API. The CLI serves as the "backend."
    *   **Consistency:** UI interacts with the same logic as AI agents, ensuring coherence.
    *   **Local-First:** Reinforces Cypher's principle as a local tool.

### 5. Implementation Plan (High-Level Roadmap for the UI)

The UI will be a future phase in our roadmap, likely after core CLI functionalities (Fases 0, 1, 2) are well-established.

*   **Fase UI.0: Frontend Project Setup:**
    *   Create `frontend/` directory.
    *   Initialize React project with Vite and TypeScript.
    *   Install Material-UI, `react-markdown`, and React Flow.
*   **Fase UI.1: Basic Task Dashboard:**
    *   Implement task list/table view, reading data via `cypher decode`.
    *   Utilize Material-UI components for UI elements.
*   **Fase UI.2: Task Detail View:**
    *   Implement side panel or detail view.
    *   Integrate `react-markdown` for `context` field display.
    *   Implement action buttons (`Transmit`, `Update Status`) invoking CLI commands.
*   **Fase UI.3: Dependency Visualization:**
    *   Integrate React Flow for a simple task dependency graph.
*   **Fase UI.4: Packaging and Distribution:**
    *   Determine UI distribution method (e.g., as a local web app launched by `cypher ui`).
